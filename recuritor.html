<!DOCTYPE html>
<html>
<head>
    <title>Search Form</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Search Form</h1>
    <form id="search-form">
        <label for="search_query">Search Query:</label>
        <input type="text" name="search_query" id="search_query" required>
        <button type="submit">Search</button>
    </form>

    <div id="search-results">
        <!-- Search results will be displayed here -->
    </div>

    <script>
        $(document).ready(function () {
            $('#search-form').submit(function (event) {
                event.preventDefault();
                var searchQuery = $('#search_query').val();
                $.ajax({
                    type: 'POST',
                    url: '/search',
                    data: { search_query: searchQuery },
                    success: function (data) {
                        displayResults(data);
                    }
                });
            });

            function displayResults(results) {
                var resultsDiv = $('#search-results');
                resultsDiv.empty();
                if (results.length > 0) {
                    resultsDiv.append('<h2>Search Results:</h2>');
                    resultsDiv.append('<ul>');
                    $.each(results, function (index, result) {
                        resultsDiv.append('<li>' + result.data + '</li>');
                    });
                    resultsDiv.append('</ul>');
                } else {
                    resultsDiv.append('<p>No results found.</p>');
                }
            }
        });
    </script>
</body>
</html>
